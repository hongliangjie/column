---
layout: post
title: 个性化推荐是不是伪命题
categories: 个性化,推荐系统
---
最近，有一位网友在微博上说，[推荐是不是个伪命题？连续几天试用了据说很好的某头条，某资讯以及某快报，感觉逃脱不了看什么就是什么的套路](http://weibo.com/1830516311/Dp4Vs81ih?from=page_1005051830516311_profile&wvr=6&mod=weibotime&type=comment)。也有人说，这是Exploitation & Exploration出了问题，没有很好得Exploration导致的结果。那么，个性化推荐到底是不是伪命题呢？本篇文章就要尝试分析和探讨这个问题。

## 推荐是为了预测用户喜好的物品吗

要知道个性化推荐是不是伪命题，我们就必须从个性化推荐的目标说起。推荐系统，顾名思义，就是要给用户推荐用户可能会交互或者用户可能喜爱的物品，比如Amazon的商品、Netflix的电影、LinkedIn的工作以及Yahoo的新闻等。当然，这只是一个非常肤浅的定义。我们等会儿会看到这个定义的问题。

自从Netflix Competition以来，推荐系统的研究和生产实际，基于以上这个关于推荐的肤浅定义，把整个系统的模型简化成了——预测用户对于某个事物的喜爱，也就是人们常说的“预测评分”（Rating Prediction）的问题。协同过滤（Collaborative Filtering)，特别是基于矩阵分解和Latent Factor Model的各种方法及其变种大行其道，一时间似乎成为了推荐系统的代名词。于是，很多实际系统的设计者和开发着，不管自己产品的真实定位究竟如何，都选择利用协同过滤来打造自己的推荐系统。

协同过滤是否有效呢？答案是肯定的。当然，这有一个巨大的前提，那就是，如果我们的产品，真的采用这个推荐的肤浅定义，仅仅注重于推荐用户是否喜欢的东西。协同过滤，辅佐以机器学习（Machine Learning）的很多手段（比如Tree-based Models)，常常能够在“预测评分”这个问题上有不俗的成绩。然而，用户在使用产品一段时间以后就会往往得出微博上那位网友的体验。产品经理也会常常陷入困境，不知道如何改进产品。

注意，有一些“预测评分”的变种问题，其实质还是在优化用户对某一类事物的喜爱。比如，不仅仅预测单个物品的评分，而是看用户在一个物品列表中选择了哪些物品。也就是看用户是否更**偏好**（Preferences）某些物品。尽管这样似乎更准确抓住了推荐问题的产品定义，但依然没有能够摆脱优化用户喜好所带来的问题。

实际上，任何以用户喜好为目标的推荐系统，不管优化对象是简单的点击率（Click-Through-Rate）还是驻留时间（Dwell-Time），抑或是上面提到的评分，都很难逃脱上述问题。那么为什么优化用户喜好就会带来上述问题呢？

原因很直观，要想优化用户喜好，那就必然强调用户的历史行为。协同过滤或者是机器学习导向的算法，都试图充分挖掘单个用户以及群体用户的喜好，并且加以推崇到极致（Optimization)。打个比方，如果你才查看了Amazon上的某款最新的相机，一般的推荐系统就会显示很多相似的相机或者其他各种相机配套产品，并希望最大化这**单次**点击（或者查询）的“收益”。在这些系统看来，既然你已经“表达了”对相机兴趣，那么系统就要抓住这么一个机会。如果你不单单是偶然看了一次相机，而是研究了一小会儿以后，推荐系统就会认为你已经表达了很“**强烈**”的对相机的喜好，那好，让你的整个屏幕都充满相机吧。也许有人可能会想到“折扣”（discount）用户短期内的一些行为这种做法，而对用户长期的一些行为更加关注。这种方法也许可以缓解“满屏相机”的现象，但是很难从根本上解决问题，况且这个discount-factor也很难调试。于是，长期优化用户喜好，在绝大多数情况下，用户就会产生“过滤气球”（Filtering Bubble）的效果，也就是说，用户自己只能看见自己喜欢的东西，并且不断强化。而从整个系统来讲，很难跳出推荐的东西千篇一律的效果。

当然，这里还有一个更加严重的问题，这也是新闻推荐经常容易出现的问题。那就是，一些“资深用户”（Engaged Users），因为比常人更多得和一个系统交互，看了各种各样的新闻，有时可能完全不是因为喜欢，而是消磨时间或者随便看着玩儿，强化优化用户喜好的推荐系统很可能无法分辨这样的行为。过度优化“喜好”，可能带来的结果就是系统误认为这些用户什么都喜欢。我们下面还会深入讨论这个问题。

只优化用户喜好的**根本问题**，其实是**忽略了大视野**（Big Picture）。那么，什么是推荐系统的大视野呢？这里先卖一个关子，我们到文章的最后再来揭晓。

## 看一步（Exploitation） 走一步 （Exploration）

上一节我们剖析了优化用户喜好的问题。熟悉推荐系统的人可能会说，这有很成熟的解决方案啊，Exploitation & Exploration（E & E）就是专门干这个的。那么，E & E是不是就解决问题了呢？

我们先来看看E & E究竟是干什么的。E & E的核心思想是，我们在优化某些目标函数的时候，从一个时间维度来看，当信息不足或者决策不确定性（Uncertainty）很大的时候，我们需要平衡两类决策：

1.  选择现在可能最佳的方案
1.  选择现在不确定的一些方案，但未来可能会有高收益的方案


## 复杂的人类行为

## 巧妇难为无米之炊

## 推荐系统的大视野

## 参考文献
